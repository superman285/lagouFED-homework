# 吴智翀 | Part2模块一

## 简答题

### 1. Webpack的构建流程主要有哪些环节？如果可以请尽可能详尽的描述Webpack打包的整个过程。



Webpack启动后，根据配置，找到我们指定的入口文件

👇

顺着入口文件，根据代码中出现的ESM、CommonJS、AMD、@import、url、img:src等解析推断出解析出该文件依赖的资源模块

👇

再分别去解析每个资源模块的依赖，然后形成整个项目的文件之间的依赖关系树🌲 (如下图)

![](https://i.loli.net/2020/07/05/dVIE4x57Hw8rTCZ.png)

👇

有了这个依赖关系树🌲，webpack会递归这个依赖树，找到每个节点对应的资源文件，交给相应loader去处理加载该模块，最后将加载结果输出到打包结果文件中，实现整个项目的打包。

`P.S.`

在整个打包过程中，loader是主角，起到了关键的作用，但plugin也不可忽略，它们并不会影响打包的核心工作过程，但它们可能穿插在整个工作过程的每个环节中，然后通过植入一些自定义任务来扩展了webpack在打包以外的能力。



### 2. Loader和Plugin有哪些不同？请描述一下开发Loader和Plugin的思路。



#### `Loader`:  即加载器，赋予webpack转换各种各样类型资源文件的能力，为打包而生，专注于打包。

#### `Plugin`:  即插件(扩展)，赋予webpack除了资源模块打包以外的其他自动化工作能力，能力范围更广、用途更多。

`Loader`和`Plugin`双剑合璧，相辅相成，为webpack的双核。



`Loader开发思路`

本质上是一个导出的函数，接收输入，进行处理后，返回所需的特定内容。

webpack加载资源文件的过程类似于一个工作管道，loader就像一个个的管道，**开发loader**时除了直接返回最后结果，也可以返回其他loader所需的输入，然后拼接上其他loader的处理从而返回最终所需结果。

`Plugin开发思路`

本质上是包含了apply方法实现的对象，给apply方法的参数compiler上的某个特定钩子通过tap方法注册任务函数并实现所需逻辑。

一般可定义为一个类，然后实现apply方法。



## 编程题

### 1. 使用Webpacck实现Vue项目打包任务。

##### 具体任务及说明：

- 先下载任务的基础代码，这是一个使用Vue Cli创建出来的Vue项目基础结构
- 有所不同的是一次出掉了vue-cli-service (包含webpack等工具的黑盒工具)
- 这里的要求就是直接使用webpack以及你所了解的周边工具、Loader、Plugin还原这个项目的打包任务
- 尽可能的使用上所有你了解到的功能和特性


